0b2console,location,sessionStorage,extend,JSON,serialize,clearTimeout,setTimeout,parseKV,Function,encodeURIComponent,Error,XHR,dispatch,window,isEmpty,Object,isString,p,w,q,b,f,i,x,r,s,j,y,z,A,B,C,g,D,Efunction t(a){return a.replace(d,'$1/$2')}function F(a){return/^https:/i.test(a)?'https':'http'}function k(h){var b={},d=h.split('/'),a=d[0];do{var e=d.slice(0);do{h=e.join('/');var f=c[h];if(f)for(var g in f)b[g]||(b[g]=f[g]);e.pop()}while(e.length);a=a.replace(/^.*?(\.|$)/,''),d[0]=a}while(a.length);return i(b,';')}function h(d,a){a===void 0&&(a=''),d&&(x(h.save_timer),h.save_timer=r(function(){q.setItem(l,f.stringify(c))},20),d.replace(/(^|;|,)\s*(expires)=(\w*),([^=]*)(;|$)/ig,'$1$2=$3.$4$5').split(/,\s*/).map(function(j){var f={},g=j.split(/;\s*/);g.slice(1).map(function(d){var a=/^(.+?)\=(.+?)$/.exec(d);if(a){var b=a[1],c=a[2];f[b.toLowerCase()]=c}});var h=f.path,d=f.domain;d||(d=a.replace(/[^\/]+$/,'')),/^\./.test(d)&&(d=d.replace(/^\.+/,''));var e;if(/^\//.test(h)?e=d.replace(/\/.*$/,'')+h:e=d,e=e.replace(/\/+$/,''),a.indexOf(e)>=0){var i=s(g[0],';');c[e]?b(c[e],i):c[e]=i}}))}function e(u,x,I){var p=t(x);if(!p)throw new z('Unsupposed url format!');var y=k(p),m={};y&&(m.Cookie=y),b(m,I),/^[mc]/i.test(u)&&(m['User-Agent']=/^m/i.test(u)?'Efront/1.9 (iPhone) Safari/602.1':'Efront/1.9 (Windows) Chrome/77.0.3865.90',u=u.slice(1));var a=new A,J=a.abort;a.abort=function(){a.onreadystatechange=null,J.call(this)},a.open(u,o(x,m)),v.map(function(b){m[b]&&a.setRequestHeader(b,m[b]),delete m[b]}),a.onreadystatechange=function(){if(a.readyState===4){if(a.getResponseHeader){var f=a.getResponseHeader('efront-cookie');h(f,p)}switch(a.status){case 0:case 200:case 201:case 304:w(a);break;case 302:case 301:if(a.isRedirected>2)break;var b=a.getResponseHeader('efront-location');d.test(b)||(/^\//.test(b)?b=p.replace(/\/.*$/,b):b=p.replace(/[^\/+]$/,b),b=F(x)+'://'+b);var c=e('get',b,I);c.isRedirected=(a.isRedirected||0)+1;w&&c.done(w,!1);q&&c.error(q,!1);break;default:q(a)}B(C,'render')}},r(function(){!g(l)&&g(c)&&(c=f.stringify(l),c==='{}'||c==='[]'?c='':a.setRequestHeader('Content-Type','application/json;charset=UTF-8')),K.call(a,c)},0);var w=function(a){a.decoder&&(a=a.decoder(a)),G.map(function(b){return b instanceof j&&b(a)}),n()},q=function(a){H.map(function(b){return b instanceof j&&b(a)}),n()},G=[],H=[];a.done=a.success=function(c,b){return b===void 0&&(b=!0),b?G.push(c):w=c,a};var K=a.send,c='',l=null;return a.json=a.data=a.send=function(d,e){var h;if(l||g(d)&&g(e)||(l={}),d instanceof D)b(l,d);else if(e)b(l,(h={},h[d]=e,h));else if(E(d)&&e!==!1){var d=/^\{/.test(d)?f.parse(d):s(d,'&','=');b(l,d)}else c=d;return a},a.form=function(b){a.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),a.data(b),c=i(l,'&','=')},a.fail=a.error=function(b,c){return c===void 0&&(c=!0),c?H.push(b):q=b,q=b,a},a}var c={},d=/^https?\:\/\/(.*?)(?:\/(.*?))?([\?#].*)?$/i,a=this.cross_host;a&&(d.test(a)?a=(/^https/.test(a)?'https://':'http://')+a.replace(d,'$1/'):(p.error('cross_host\u683c\u5f0f\u4e0d\u6b63\u786e',a),a='/'));var u=d.test(w.href)?a||'/':'http://efront.cc/',v=['Content-Type'],l='--zimoli-coms-cross',m=q.getItem(l);if(m)try{b(c,f.parse(m))}catch(a){p.warn('\u52a0\u8f7dcookie\u51fa\u9519\uff01')}var n=function(){e.digest instanceof j&&e.digest()},o=function(e,h){var g=t(e),f=k(g),a={};f&&(a.Cookie=f),b(a,h);var c=y('/');return e.replace(/^s?\/\//i,'http$&').replace(d,u+((/^(https\:|s\/\/)/i.test(e)?'%7Bs':'%7B')+(c+c)+'$1'+c+i(a)+'%7D@$2$3'))};return b(e,{getCookies:k,addCookie:h,getCrossUrl:o}),e