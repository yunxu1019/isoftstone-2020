0fconkeydown,document,rootElements,remove,css,fromOffset,isString,isNode,Error,once,Event,Array,zIndex,onremove,Cleanup,innerHeight,innerWidth,getComputedStyle,extend,getScreenPosition,Math,overlap,arriswise,fromPixel,appendChild,K,c,i,j,a,k,L,v,m,w,M,x,l,n,y,o,p,N,O,z,A,P,Q,B,RK(c,function(a){a.which===27&&i.length&&j(i[i.length-1])});var q='opacity:0;transform:scale(1.2);transition:.1s opacity ease-out,.2s transform ease-out;',f=function(a){a.initialStyle=q},r=function(b){a(b,{marginLeft:k(-b.offsetWidth/2),marginTop:k(-b.offsetHeight/2),left:'50%',top:'50%'})},s=function(b){return a(b,'min-height:10px;min-width:10px;position:absolute;background-color:#fff;'),b},t=function(b){return a(b,'position:absolute;background-color:#fff;'),b},b=function(a){if(L(a))return C.apply(null,arguments);if(v(a))return D.apply(null,arguments);throw new m('path isn\'t valid:'+a)},C=function(c,h,k){if(c===void 0&&(c=''),!(b.go&&b.prepare))throw new m('\u5f53\u524d\u73af\u5883\u65e0\u6cd5\u4f7f\u7528');var a;if(/^#/.test(c)){c=c.replace(/^#/,'');var d=function(){j(a&&a.mask),a=b.create(c,h),s(a),f(a),g(a,k)}}else if(/^@/.test(c)){c=c.replace(/^@/,'');var d=function(){a=b.create(c,h),s(a),f(a),e(a)}}else if(/^!/.test(c)){c=c.replace(/^!/,'');var d=function(){a=b.create(c,h),t(a),f(a),g(a)}}else var d=function(){a=b.create(c,h),t(a),f(a),e(a)};var i=function(){if(j(a),d(),!a)throw new m('\u8def\u5f84\u4e0d\u5b58\u5728:'+c);a.style.opacity=0,a.$reload=i,a.parentNode?r(a):w('append')(a,function(){r(a),a.style.opacity=1})};return b.prepare(c,i),a},D=function(b,a){return v(a)?a.isMask?(g(b,a),b):F(b,a):(a instanceof M?I(b,a):a instanceof x?H(b,a):a?g(b):e(b),b)};a('.mask','position:absolute;position:fixed;left:0;right:0;bottom:0;top:0;width:auto;height:auto;background:#000;opacity:0.2;transform:scale(1);');var E=function(){var b=c.createElement('div');return b.initialStyle=q,a(b,'z-index:'+l()),b.className='mask',b.isMask=!0,b},g=function(b,c){return c===void 0&&(c=E()),n(b,c.clean),a(b,'z-index:'+l()+';'),c.parentNode&&d(b),b['with']?b['with']instanceof x?~b['with'].indexOf(b)||b['with'].push(c):b['with']!==b&&(b['with']=[b['with'],c]):b['with']=[c],c.clean||(c.clean=new y(b['with'])),b.parentNode||d(b),b},F=function(b,a){var f=a.offsetParent,c=a.nextSibling,e=a.previousSibling;c&&(c.offsetLeft-a.offsetLeft>=a.offsetWidth/2||a.offsetLeft-c.offsetLeft>=c.offsetWidth/2)||e&&(e.offsetLeft-a.offsetLeft>=a.offsetWidth/2||a.offsetLeft-e.offsetLeft>=e.offsetWidth/2)?h(d,b,a):f?o-a.offsetHeight>p-a.offsetWidth&&f.clientWidth!==a.offsetWidth?h(d,b,a):u(d,b,a):/inline|cell/i.test(N(a).display)?h(d,b,a):u(d,b,a)},h=function(h,b,e){b.origin||(b.origin={height:b.style.height,width:b.style.width,minWidth:b.style.minWidth,display:b.style.display}),a(b,'position:absolute;z-index:'+l());var f=n(e,function(){j(b)}),g=n(b,function(){f(),g(),c.removeEventListener&&(c.removeEventListener('scroll',d,!0),c.removeEventListener('resize',d))});h(b);var d=function(){O(b.style,b.origin);var c=z(e),d=z(b.offsetParent),g=A.max(c.top,o-c.top-c.height),h=A.max(c.left+c.width,p-c.left),j=b.offsetHeight;j>g&&a(b,'height:'+g+'px;'),a(b,'min-width:auto;');var f=b.offsetWidth;f<e.offsetWidth&&(f=e.offsetWidth),f>h&&(f=h),f!==b.offsetWidth&&a(b,'width:'+f+'px'),c.top+b.offsetHeight+c.height>o?a(b,'bottom:'+(d.height-c.top+d.top)+'px;top:auto;'):a(b,'top:'+(c.top-d.top+c.height)+'px;bottom:auto;'),c.left+b.offsetWidth>p?a(b,'right:'+(d.width+d.left-c.left-c.width)+'px;left:auto;'):a(b,'left:'+(c.left-d.left)+'px;right:auto;');var i=e.offsetParent;i&&(P(c,i)>0?b.style.display=b.origin.display:b.style.display='none')};c.addEventListener&&(c.addEventListener('scroll',d,!0),c.addEventListener('resize',d)),d()},G=arguments[arguments.length-1],u=Q(h,G.concat([].slice.call(arguments,0))),e=function(b){a(b,'z-index:'+l()+';'),d(b)},H=function(b,c){var d=c[0],f=c[1];a(b,{position:'absolute',left:B(d),top:B(f)}),e(b)},I=function(b,c){var d=c.clientX,f=c.clientY;a(b,{position:'absolute',left:k(d),top:k(f)}),e(b)},d=function(a){w('remove')(a,J),b.global?b.global(a,!0):R(c.body,a)},J=new y(i);return b