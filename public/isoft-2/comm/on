03ywindow,Array,document,console,undefined,Function,dispatch,d,e,c,h,f,i,j'use strict';var g='addEventListener'in d,a={};if(g)var b=function(b){function d(c,a){if(a instanceof e){a.map(function(a){this.addEventListener(b,a)},c);var d=function(){a.map(function(a){this.removeEventListener(b,a)},c)}}else{c.addEventListener(b,a);var d=function(){c.removeEventListener(b,a)}}return d}var c='on'+b;return a[c]?a[c]:a[c]=d};else{var b=function b(l){function k(a,b,l){if(l===void 0&&(l=!1),!(g in a)&&a===d&&g in c&&(a=c,k.logged||(k.logged=!0,h.warn('use',g,'on document instead of on window'))),a[j])l?a[j].unshift(b):a[j].push(b);else{a[j]=a[g]?[a[g],b]:[b],a[g]=function(b){b||(b=d.event||{}),b.preventDefault||(b.preventDefault=function(){b.returnValue=!1}),b.button&&(b.buttons===f&&(b.buttons=b.button),b.which===f&&(b.which=b.button)),!b.target&&b.srcElement&&(b.target=b.srcElement),m(a[j],b)};var m=function(d,g){for(var c=0,f=d.length;c<f;c++){var b=d[d.length+c-f];b instanceof i?b.call(a,g):b instanceof e&&m(b,g)}}}var n=function(){var c=a[j];for(var d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);c.length||(a[j]=null,a[g]=null)};return n}var j=l+'handlers',g='on'+l;return a[g]?a[g]:a[g]=k};'onmousedown'in d||b('mousedown')(c,function(){var a=b('mouseup')(c,function(){d(),a()},!0),d=b('mousemove')(c,function(a){a.which||j('mouseup',c)},!0)})}return b