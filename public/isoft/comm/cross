0aiconsole,location,sessionStorage,extend,JSON,serialize,clearTimeout,setTimeout,parseKV,Function,encodeURIComponent,Error,XHR,dispatch,window,Object,isString,o,v,p,b,f,h,w,q,r,i,x,y,z,A,B,C,Dfunction s(a){return a.replace(d,'$1/$2')}function E(a){return/^https:/i.test(a)?'https':'http'}function j(i){var b={},d=i.split('/'),a=d[0];do{var e=d.slice(0);do{i=e.join('/');var f=c[i];if(f)for(var g in f)b[g]||(b[g]=f[g]);e.pop()}while(e.length);a=a.replace(/^.*?(\.|$)/,''),d[0]=a}while(a.length);return h(b,';')}function g(d,a){a===void 0&&(a=''),d&&(w(g.save_timer),g.save_timer=q(function(){p.setItem(k,f.stringify(c))},20),d.replace(/(^|;|,)\s*(expires)=(\w*),([^=]*)(;|$)/ig,'$1$2=$3.$4$5').split(/,\s*/).map(function(j){var f={},g=j.split(/;\s*/);g.slice(1).map(function(d){var a=/^(.+?)\=(.+?)$/.exec(d);if(a){var b=a[1],c=a[2];f[b.toLowerCase()]=c}});var h=f.path,d=f.domain;d||(d=a.replace(/[^\/]+$/,'')),/^\./.test(d)&&(d=d.replace(/^\.+/,''));var e;if(/^\//.test(h)?e=d.replace(/\/.*$/,'')+h:e=d,e=e.replace(/\/+$/,''),a.indexOf(e)>=0){var i=r(g[0],';');c[e]?b(c[e],i):c[e]=i}}))}function e(t,w,H){var l=s(w);if(!l)throw new y('Unsupposed url format!');var x=j(l),k={};x&&(k.Cookie=x),b(k,H),/^[mc]/i.test(t)&&(k['User-Agent']=/^m/i.test(t)?'Efront/1.9 (iPhone) Safari/602.1':'Efront/1.9 (Windows) Chrome/77.0.3865.90',t=t.slice(1));var a=new z,I=a.abort;a.abort=function(){a.onreadystatechange=null,I.call(this)},a.open(t,n(w,k)),u.map(function(b){k[b]&&a.setRequestHeader(b,k[b]),delete k[b]}),a.onreadystatechange=function(){if(a.readyState===4){if(a.getResponseHeader){var f=a.getResponseHeader('cross-cookie');g(f,l)}switch(a.status){case 0:case 200:case 201:case 304:v(a);break;case 302:case 301:if(a.isRedirected>2)break;var b=a.getResponseHeader('cross-location');d.test(b)||(/^\//.test(b)?b=l.replace(/\/.*$/,b):b=l.replace(/[^\/+]$/,b),b=E(w)+'://'+b);var c=e('get',b,H);c.isRedirected=(a.isRedirected||0)+1;v&&c.done(v,!1);o&&c.error(o,!1);break;default:o(a)}A(B,'render')}},q(function(){c&&!p&&(p=f.stringify(c),a.setRequestHeader('Content-Type','application/json;charset=UTF-8')),J.call(a,p)},0);var v=function(a){a.decoder&&(a=a.decoder(a)),F.map(function(b){return b instanceof i&&b(a)}),m()},o=function(a){G.map(function(b){return b instanceof i&&b(a)}),m()},F=[],G=[];a.done=a.success=function(c,b){return b===void 0&&(b=!0),b?F.push(c):v=c,a};var J=a.send,p='',c=null;return a.json=a.data=a.send=function(d,e){var g;if(c||(c={}),d instanceof C)b(c,d);else if(e)b(c,(g={},g[d]=e,g));else if(D(d)&&e!==!1){var d=/^\{/.test(d)?f.parse(d):r(d,'&','=');b(c,d)}else p=d;return a},a.form=function(b){a.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),a.data(b),p=h(c,'&','=')},a.fail=a.error=function(b,c){return c===void 0&&(c=!0),c?G.push(b):o=b,o=b,a},a}var c={},d=/^https?\:\/\/(.*?)(?:\/(.*?))?([\?#].*)?$/i,a=this.cross_host;a&&(d.test(a)?a=(/^https/.test(a)?'https://':'http://')+a.replace(d,'$1/'):(o.error('cross_host\u683c\u5f0f\u4e0d\u6b63\u786e',a),a='/'));var t=d.test(v.href)?a||'/':'http://efront.cc/',u=['Content-Type'],k='--zimoli-coms-cross',l=p.getItem(k);if(l)try{b(c,f.parse(l))}catch(a){o.warn('\u52a0\u8f7dcookie\u51fa\u9519\uff01')}var m=function(){e.digest instanceof i&&e.digest()},n=function(e,i){var g=s(e),f=j(g),a={};f&&(a.Cookie=f),b(a,i);var c=x('/');return e.replace(/^s?\/\//i,'http$&').replace(d,t+((/^(https\:|s\/\/)/i.test(e)?'%7Bs':'%7B')+(c+c)+'$1'+c+h(a)+'%7D@$2$3'))};return b(e,{getCookies:j,addCookie:g,getCrossUrl:n}),e